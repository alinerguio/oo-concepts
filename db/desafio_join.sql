SELECT * FROM (SELECT tipo, count(1) AS numero_funcionarios FROM (SELECT cozinha.id_cozinha, cozinha.tipo, funcionario.nome, funcionario.atividade FROM cozinha JOIN funcionario ON cozinha.id_cozinha = funcionario.id_cozinha) AS cozinha_funcionarios GROUP BY tipo) AS join_funcionario_cozinha WHERE numero_funcionarios > 4;

SELECT cozinha.tipo FROM cozinha LEFT JOIN (SELECT ingrediente.nome, ingrediente_cozinha_incompleto.id_cozinha, ingrediente_cozinha_incompleto.tipo FROM ingrediente JOIN (SELECT ingrediente_cozinha.id_ingrediente, cozinha.id_cozinha, cozinha.tipo FROM cozinha JOIN ingrediente_cozinha ON cozinha.id_cozinha = ingrediente_cozinha.id_cozinha) AS ingrediente_cozinha_incompleto ON ingrediente.id_ingrediente = ingrediente_cozinha_incompleto.id_ingrediente) AS join_ingrediente_cozinha ON cozinha.id_cozinha = join_ingrediente_cozinha.id_cozinha WHERE join_ingrediente_cozinha.id_cozinha IS NULL; 